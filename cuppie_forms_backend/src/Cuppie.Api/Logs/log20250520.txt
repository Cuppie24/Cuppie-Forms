2025-05-20 09:58:22.718 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 09:58:22.887 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-20 09:58:22.893 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-20 09:58:22.896 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-20 09:58:22.899 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 09:58:22.906 +05:00 [INF] Applying migration '20250520045734_AddedPageAndWorkspaceEntities'.
2025-05-20 09:58:22.933 +05:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 09:58:56.738 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 09:58:56.793 +05:00 [INF] Model snapshot was not found in assembly 'Cuppie.Infrastructure'. Skipping pending model changes check.
2025-05-20 09:58:56.886 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-20 09:58:56.892 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-20 09:58:56.894 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-20 09:58:56.896 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 09:58:56.900 +05:00 [INF] Applying migration '20250520045734_AddedPageAndWorkspaceEntities'.
2025-05-20 09:58:56.923 +05:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 10:05:58.120 +05:00 [INF] Executed DbCommand (148ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE cuppie_database WITH (FORCE);
2025-05-20 10:06:17.083 +05:00 [ERR] An error occurred using the connection to database 'cuppie_database' on server 'tcp://localhost:5432'.
2025-05-20 10:06:17.113 +05:00 [INF] Model snapshot was not found in assembly 'Cuppie.Infrastructure'. Skipping pending model changes check.
2025-05-20 10:06:17.281 +05:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE cuppie_database;
2025-05-20 10:06:17.380 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-20 10:06:17.386 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-20 10:06:17.388 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-20 10:06:17.391 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 10:06:17.398 +05:00 [INF] Applying migration '20250506115428_InitialCreate'.
2025-05-20 10:06:17.421 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 10:06:17.434 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Username" character varying(30) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "PasswordHash" text NOT NULL,
    "Salt" bytea NOT NULL,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2025-05-20 10:06:17.442 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserOrganisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "OrganisationId" integer NOT NULL,
    "JoinedAt" timestamp with time zone NOT NULL,
    "UserRole" integer NOT NULL,
    CONSTRAINT "PK_UserOrganisation" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserOrganisation_Organisation_OrganisationId" FOREIGN KEY ("OrganisationId") REFERENCES "Organisation" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserOrganisation_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2025-05-20 10:06:17.448 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_OrganisationId" ON "UserOrganisation" ("OrganisationId");
2025-05-20 10:06:17.455 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_UserId" ON "UserOrganisation" ("UserId");
2025-05-20 10:06:17.457 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250506115428_InitialCreate', '9.0.4');
2025-05-20 10:06:17.458 +05:00 [INF] Applying migration '20250520045734_AddedPageAndWorkspaceEntities'.
2025-05-20 10:06:17.469 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 10:07:30.789 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 10:07:30.827 +05:00 [INF] Model snapshot was not found in assembly 'Cuppie.Infrastructure'. Skipping pending model changes check.
2025-05-20 10:07:30.910 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-20 10:07:30.917 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-20 10:07:30.918 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-20 10:07:30.920 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 10:07:30.924 +05:00 [INF] Applying migration '20250506115428_InitialCreate'.
2025-05-20 10:07:30.950 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 10:07:30.962 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Username" character varying(30) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "PasswordHash" text NOT NULL,
    "Salt" bytea NOT NULL,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2025-05-20 10:07:30.970 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserOrganisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "OrganisationId" integer NOT NULL,
    "JoinedAt" timestamp with time zone NOT NULL,
    "UserRole" integer NOT NULL,
    CONSTRAINT "PK_UserOrganisation" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserOrganisation_Organisation_OrganisationId" FOREIGN KEY ("OrganisationId") REFERENCES "Organisation" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserOrganisation_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2025-05-20 10:07:30.978 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_OrganisationId" ON "UserOrganisation" ("OrganisationId");
2025-05-20 10:07:30.984 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_UserId" ON "UserOrganisation" ("UserId");
2025-05-20 10:07:30.986 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250506115428_InitialCreate', '9.0.4');
2025-05-20 10:07:30.988 +05:00 [INF] Applying migration '20250520045734_AddedPageAndWorkspaceEntities'.
2025-05-20 10:07:30.998 +05:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 10:11:03.577 +05:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 10:11:03.723 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-20 10:11:03.730 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-20 10:11:03.731 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-20 10:11:03.734 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 10:11:03.739 +05:00 [INF] Applying migration '20250520051029_AddedPageAndWorkspaceEntities'.
2025-05-20 10:11:03.759 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 10:11:03.774 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Username" character varying(30) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "PasswordHash" text NOT NULL,
    "Salt" bytea NOT NULL,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2025-05-20 10:11:03.789 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Workspace" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text,
    "OrganisationId" integer NOT NULL,
    CONSTRAINT "PK_Workspace" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Workspace_Organisation_OrganisationId" FOREIGN KEY ("OrganisationId") REFERENCES "Organisation" ("Id") ON DELETE CASCADE
);
2025-05-20 10:11:03.798 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserOrganisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "OrganisationId" integer NOT NULL,
    "JoinedAt" timestamp with time zone NOT NULL,
    "UserRole" integer NOT NULL,
    CONSTRAINT "PK_UserOrganisation" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserOrganisation_Organisation_OrganisationId" FOREIGN KEY ("OrganisationId") REFERENCES "Organisation" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserOrganisation_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2025-05-20 10:11:03.813 +05:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Page" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Content" text,
    "ParentPageId" integer NOT NULL,
    "ParentPageEntityId" integer NOT NULL,
    "WorkspaceId" integer NOT NULL,
    CONSTRAINT "PK_Page" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Page_Page_ParentPageEntityId" FOREIGN KEY ("ParentPageEntityId") REFERENCES "Page" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Page_Workspace_WorkspaceId" FOREIGN KEY ("WorkspaceId") REFERENCES "Workspace" ("Id") ON DELETE CASCADE
);
2025-05-20 10:11:03.821 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Page_ParentPageEntityId" ON "Page" ("ParentPageEntityId");
2025-05-20 10:11:03.829 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Page_WorkspaceId" ON "Page" ("WorkspaceId");
2025-05-20 10:11:03.836 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_OrganisationId" ON "UserOrganisation" ("OrganisationId");
2025-05-20 10:11:03.843 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_UserId" ON "UserOrganisation" ("UserId");
2025-05-20 10:11:03.850 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Workspace_OrganisationId" ON "Workspace" ("OrganisationId");
2025-05-20 10:11:03.852 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250520051029_AddedPageAndWorkspaceEntities', '9.0.4');
2025-05-20 10:11:20.195 +05:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP DATABASE cuppie_database WITH (FORCE);
2025-05-20 10:12:14.200 +05:00 [ERR] An error occurred using the connection to database 'cuppie_database' on server 'tcp://localhost:5432'.
2025-05-20 10:12:14.394 +05:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE cuppie_database;
2025-05-20 10:12:14.463 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-20 10:12:14.469 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-05-20 10:12:14.471 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-05-20 10:12:14.474 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-20 10:12:14.483 +05:00 [INF] Applying migration '20250520051156_AddedPageAndWorkspaceEntities'.
2025-05-20 10:12:14.502 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Organisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(30) NOT NULL,
    "CreatedAt" date NOT NULL,
    CONSTRAINT "PK_Organisation" PRIMARY KEY ("Id")
);
2025-05-20 10:12:14.514 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "User" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Username" character varying(30) NOT NULL,
    "Email" character varying(100) NOT NULL,
    "PasswordHash" text NOT NULL,
    "Salt" bytea NOT NULL,
    CONSTRAINT "PK_User" PRIMARY KEY ("Id")
);
2025-05-20 10:12:14.526 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Workspace" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text,
    "OrganisationId" integer NOT NULL,
    CONSTRAINT "PK_Workspace" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Workspace_Organisation_OrganisationId" FOREIGN KEY ("OrganisationId") REFERENCES "Organisation" ("Id") ON DELETE CASCADE
);
2025-05-20 10:12:14.534 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserOrganisation" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" integer NOT NULL,
    "OrganisationId" integer NOT NULL,
    "JoinedAt" timestamp with time zone NOT NULL,
    "UserRole" integer NOT NULL,
    CONSTRAINT "PK_UserOrganisation" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_UserOrganisation_Organisation_OrganisationId" FOREIGN KEY ("OrganisationId") REFERENCES "Organisation" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_UserOrganisation_User_UserId" FOREIGN KEY ("UserId") REFERENCES "User" ("Id") ON DELETE CASCADE
);
2025-05-20 10:12:14.547 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Page" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" text NOT NULL,
    "Content" text,
    "ParentPageId" integer NOT NULL,
    "ParentPageEntityId" integer NOT NULL,
    "WorkspaceId" integer NOT NULL,
    CONSTRAINT "PK_Page" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Page_Page_ParentPageEntityId" FOREIGN KEY ("ParentPageEntityId") REFERENCES "Page" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Page_Workspace_WorkspaceId" FOREIGN KEY ("WorkspaceId") REFERENCES "Workspace" ("Id") ON DELETE CASCADE
);
2025-05-20 10:12:14.553 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Page_ParentPageEntityId" ON "Page" ("ParentPageEntityId");
2025-05-20 10:12:14.560 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Page_WorkspaceId" ON "Page" ("WorkspaceId");
2025-05-20 10:12:14.567 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_OrganisationId" ON "UserOrganisation" ("OrganisationId");
2025-05-20 10:12:14.573 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserOrganisation_UserId" ON "UserOrganisation" ("UserId");
2025-05-20 10:12:14.581 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Workspace_OrganisationId" ON "Workspace" ("OrganisationId");
2025-05-20 10:12:14.583 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250520051156_AddedPageAndWorkspaceEntities', '9.0.4');
